@model Concretar.Services.Models.GridVentaModel
@{
    var Email = User.Claims.FirstOrDefault(x => x.Type == "Usuario").Value;
    var edit = Html.ColumnTablePermission("Edit", "Venta", Email);
    var delete = Html.ColumnTablePermission("Delete", "Venta", Email);
}
@(Html.Grid(Model.ListVentas)
            .Build(columns =>
            {
                columns.Add(m => m.VentaId).Titled("N°");
                columns.Add(m => m.Cliente.Nombre + " " + m.Cliente.Apellido).Titled("Cliente");
                columns.Add(m => m.Lote == null ? "-" : m.Lote.Nombre).Titled("Lote");
                columns.Add(m => m.Proyecto == null ? "-" : m.Proyecto.Nombre).Titled("Proyecto");
                columns.Add(m => m.Fecha.ToString("dd/MM/yyyy")).Titled("Fecha");
                columns.Add(m => Html.ActionLink("", "Index", "Cuota", new { ventaId = m.VentaId }, new { @class = "zmdi zmdi-info-outline zmdi-hc-2x text-primary", @title = "Detalles" })).Css("action-cell ").Titled("Detalle");
            })
            .Pageable(pager =>
            {
                pager.ProcessorType = GridProcessorType.Manual;
                pager.RowsPerPage = AppSettings.Value.Paging.RowsPerPage;
                pager.TotalRows = Model.TotalRows;
            })
            .Empty("No se encontró ningún registro")
            .Css("table table-hover")
)