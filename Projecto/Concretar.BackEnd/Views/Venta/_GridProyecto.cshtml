@model Concretar.Services.Models.GridProyectoModel
@{
    var Email = User.Claims.FirstOrDefault(x => x.Type == "Usuario").Value;
    var edit = Html.ColumnTablePermission("Edit", "Proyecto", Email);
    var delete = Html.ColumnTablePermission("Delete", "Proyecto", Email);
}

@(Html.Grid(Model.ListProyecto)
                    .Build(columns =>
                    {
                        columns.Add(m => m.Nombre).Titled("Nombre");
                        columns.Add(m => m.Dimension).Titled("Dimensión en m2");
                        columns.Add(m => m.Ubicacion).Titled("Ubicación");
                        columns.Add(m => "$ " + m.Precio).Titled("Precio");
                        columns.Add(m => m.ProyectoId).Titled("Seleccionar").Encoded(false).RenderedAs(m => "<a class='zmdi zmdi-check text-success' onclick='return ProyectoSeleccionado(" + m.ProyectoId + "); ' title='Seleccionar'></a>");
                    })
                    .Pageable(pager =>
                    {
                        pager.ProcessorType = GridProcessorType.Manual;
                        pager.RowsPerPage = AppSettings.Value.Paging.RowsPerPage;
                        pager.TotalRows = Model.TotalRows;
                    })
                    .Empty("No se encontró ningún registro")
                    .Css("table table-hover")
)
<script>
    function ProyectoSeleccionado(n) {
        $.ajax({
            url: '/Venta/SearchProyecto/' + n,
            type: 'GET',
            processData: false,
            contentType: false,
            success: function (result) {
                DatosInputsProyecto(result)
            },
            error: function (result) {
                alert(result)
            }
        });
    }
</script>